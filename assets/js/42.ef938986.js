(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{415:function(a,e,t){a.exports=t.p+"assets/img/mmap.7551e1a0.png"},720:function(a,e,t){"use strict";t.r(e);var s=t(20),c=Object(s.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"pagecache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pagecache"}},[a._v("#")]),a._v(" pageCache")]),a._v(" "),s("h2",{attrs:{id:"mmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mmap"}},[a._v("#")]),a._v(" mmap")]),a._v(" "),s("p",[a._v("系统读取硬盘数据以4k为单位载入内存内核空间,应用程序读取时需要复制一份到用户空间才可以访问,因此多个应用程序访问同一份数据会复制多分,mmap 作为内核空间和用户空间的映射.")]),a._v(" "),s("p",[s("img",{attrs:{src:t(415),alt:"mmap"}})]),a._v(" "),s("h2",{attrs:{id:"跳过pagecache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跳过pagecache"}},[a._v("#")]),a._v(" 跳过pageCache")]),a._v(" "),s("p",[a._v("如果修改 pageCache 并不会直接写入硬盘,而是系统定期写入,如何防止宕机数据丢失?")]),a._v(" "),s("p",[a._v("跳过 pageCache 直接写入硬盘")]),a._v(" "),s("ol",[s("li",[a._v("调用系统提供的 fsync 方法强制写入硬盘")]),a._v(" "),s("li",[a._v("访问文件时可以指定不使用 page cache")])])])}),[],!1,null,null,null);e.default=c.exports}}]);