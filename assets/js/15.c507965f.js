(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{475:function(s,a,t){s.exports=t.p+"assets/img/linux-top.9af27407.png"},476:function(s,a,t){s.exports=t.p+"assets/img/linux-cpu.5da02164.png"},477:function(s,a,t){s.exports=t.p+"assets/img/linux-free.e5bf3ab8.png"},536:function(s,a,t){"use strict";t.r(a);var e=t(20),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"系统状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统状态"}},[s._v("#")]),s._v(" 系统状态")]),s._v(" "),e("h2",{attrs:{id:"top"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[s._v("#")]),s._v(" top")]),s._v(" "),e("p",[s._v("系统平均负载就是处于可运行( R : 使用 cpu 或者等待使用 cpu)或不可中断(D : 正在等待某些 io 访问,一般是和硬件交互,不可被打断,不可被打断是为了保护系统数据一致)的平均进程数.cpu 密集计算任务较多会导致平均负载上升,io 密集型任务较多会导致平均负载高但是 cpu 使用率不一定高,可能很低因为许多进程处于不可中断状态等待 cpu 调度也会升高负载.")]),s._v(" "),e("p",[e("img",{attrs:{src:t(475),alt:"linux-top"}})]),s._v(" "),e("ol",[e("li",[s._v("第一行 : 当前时间、系统运行时间、当前多少用户、过去 1 分钟、5 分钟、15 分钟系统负载")]),s._v(" "),e("li",[s._v("第二行 : 当前有多少进程、正在运行中的进程、正在休眠的进程、停止的进程、僵尸进程, running 越多,服务器自然压力大")]),s._v(" "),e("li",[s._v("第三行 : 用户进程占 cpu 使用率、系统进程占 cpu 使用率、用户进程空间改变过系统优先级、空闲 cpu 占用率、等待输入输出的 cpu 时间比、硬件中断请求、软件的中断请求、steal time,us 长期过高表示用户进程占用率大量的 cpu 时间.")]),s._v(" "),e("li",[s._v("第四行 & 第五行 : 内存总量、空闲内存、已使用内存、写缓存、读缓存")])]),s._v(" "),e("h3",{attrs:{id:"列含义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#列含义"}},[s._v("#")]),s._v(" 列含义")]),s._v(" "),e("p",[s._v("top 采样依赖"),e("code",[s._v("/proc/stat")]),s._v("和"),e("code",[s._v("/proc//stat")])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("列")]),s._v(" "),e("th",[s._v("作用")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("VIRT")]),s._v(" "),e("td",[s._v("使用虚拟内存总量 VIRT=SWAP+RES")])]),s._v(" "),e("tr",[e("td",[s._v("RES")]),s._v(" "),e("td",[s._v("进程使用的、违背换出的物理内存大小, RES=CODE+DATA")])]),s._v(" "),e("tr",[e("td",[s._v("SHR")]),s._v(" "),e("td",[s._v("共享内存大小")])])])]),s._v(" "),e("h3",{attrs:{id:"参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("命令")]),s._v(" "),e("th",[s._v("作用")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("输入 H")]),s._v(" "),e("td",[s._v("打开隐藏的线程,输入 1 系那时单核 cpu 使用情况")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td")]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td")])])]),s._v(" "),e("h3",{attrs:{id:"load"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#load"}},[s._v("#")]),s._v(" load")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/loadavg")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.22")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.06")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("/263 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("15920")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1 5 15 分钟进程队列平均进程数,包括正在运行和准备好运行的进程")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分子表示正在运行的进程数,分母表示进程总数")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最后一个表示最近运行的进程ID")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("ol",[e("li",[s._v("如果平均值时 0.0 则系统空闲")]),s._v(" "),e("li",[s._v("如果 1 大于 5 和 15 则负载在增加")]),s._v(" "),e("li",[s._v("如果 1 小于 5 和 15 则负载在减少")])]),s._v(" "),e("h2",{attrs:{id:"mpstat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mpstat"}},[s._v("#")]),s._v(" mpstat")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("mpstat -P ALL "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以查看每秒 cpu 变化信息")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"pidstat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pidstat"}},[s._v("#")]),s._v(" pidstat")]),s._v(" "),e("h3",{attrs:{id:"命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("pidstat -w "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("时间间隔"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 资源占用情况")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结果"}},[s._v("#")]),s._v(" 结果")]),s._v(" "),e("ol",[e("li",[s._v("cswch/s : 每秒主动任务上下文切换数量")]),s._v(" "),e("li",[s._v("nvcswch/s : 每秒被动任务上下文切换数量")])]),s._v(" "),e("h3",{attrs:{id:"命令-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令-2"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("pidstat -tt -p pid "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 线程切换和 cpu 调度")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"结果-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结果-2"}},[s._v("#")]),s._v(" 结果")]),s._v(" "),e("ul",[e("li",[s._v("TGID : 主线程表示")]),s._v(" "),e("li",[s._v("TID : 线程 ID")]),s._v(" "),e("li",[s._v("%usr : 进程在用户空间占用的 cpu 百分比")]),s._v(" "),e("li",[s._v("%system : 进程在内核空间占用的 cpu 百分比")]),s._v(" "),e("li",[s._v("%guest : 进程在虚拟机占用的 cpu 百分比")]),s._v(" "),e("li",[s._v("%cpu : 进程占用 cpu 百分比")]),s._v(" "),e("li",[s._v("cpu : 处理进程的 cpu 编号")]),s._v(" "),e("li",[s._v("command : 当前进程对应的 cpu 命令")])]),s._v(" "),e("h2",{attrs:{id:"time"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#time"}},[s._v("#")]),s._v(" time")]),s._v(" "),e("h2",{attrs:{id:"cpustat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpustat"}},[s._v("#")]),s._v(" cpustat")]),s._v(" "),e("h2",{attrs:{id:"htop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#htop"}},[s._v("#")]),s._v(" htop")]),s._v(" "),e("h2",{attrs:{id:"atop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atop"}},[s._v("#")]),s._v(" atop")]),s._v(" "),e("h2",{attrs:{id:"glances"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#glances"}},[s._v("#")]),s._v(" glances")]),s._v(" "),e("h2",{attrs:{id:"nmon"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nmon"}},[s._v("#")]),s._v(" nmon")]),s._v(" "),e("h2",{attrs:{id:"strace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#strace"}},[s._v("#")]),s._v(" strace")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("strace")]),s._v(" -t -p pid "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示系统调用,可以查看到进程的退出原因")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"sar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sar"}},[s._v("#")]),s._v(" sar")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("sar -n DEV m n "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每隔 m 秒采样一次,共采样 n 次")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("列")]),s._v(" "),e("th",[s._v("含义")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("IFACE")]),s._v(" "),e("td",[s._v("LAN 接口")])]),s._v(" "),e("tr",[e("td",[s._v("rxpck/s")]),s._v(" "),e("td",[s._v("每秒接受的数据包")])]),s._v(" "),e("tr",[e("td",[s._v("txpck/s")]),s._v(" "),e("td",[s._v("每秒发送的数据包")])]),s._v(" "),e("tr",[e("td",[s._v("rxKB/s")]),s._v(" "),e("td",[s._v("每秒接收的数据量")])]),s._v(" "),e("tr",[e("td",[s._v("txKB/s")]),s._v(" "),e("td",[s._v("每秒发送的数据量")])]),s._v(" "),e("tr",[e("td",[s._v("rxcmp/s")]),s._v(" "),e("td",[s._v("每秒接收的压缩数据包")])]),s._v(" "),e("tr",[e("td",[s._v("txcmp/s")]),s._v(" "),e("td",[s._v("每秒发送的压缩数据包")])]),s._v(" "),e("tr",[e("td",[s._v("rxmcst/s")]),s._v(" "),e("td",[s._v("每秒接收的多播数据包")])])])]),s._v(" "),e("h2",{attrs:{id:"ksar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ksar"}},[s._v("#")]),s._v(" ksar")]),s._v(" "),e("h2",{attrs:{id:"uptime"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uptime"}},[s._v("#")]),s._v(" uptime")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),s._v(" -d "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uptime")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d 高亮显示变化区域")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"网路"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网路"}},[s._v("#")]),s._v(" 网路")]),s._v(" "),e("h3",{attrs:{id:"nload"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nload"}},[s._v("#")]),s._v(" nload")]),s._v(" "),e("p",[s._v("实时查看网卡流量")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y epel-release "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y nload\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"iftop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iftop"}},[s._v("#")]),s._v(" iftop")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y epel-release "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y iftop\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"sar-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sar-2"}},[s._v("#")]),s._v(" sar")]),s._v(" "),e("p",[s._v("包含在 sysstat 工具包中")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /proc/net/dev")]),s._v("\nsar -n DEV "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每秒取一次值,取两次")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -n DEV 显示网络接口信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -n EDEV 显示网络错误统计信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -n NFS 统计活动的 NFS 客户端信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -n NFSD 统计 NFS 服务器信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -n ALL 显示以上 5 种信息")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h2",{attrs:{id:"vmstat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vmstat"}},[s._v("#")]),s._v(" vmstat")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" -n n1 n2 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一个参数表示采样时间间隔,第二个参数表示采样次数")]),s._v("\nprocs "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# r 运行和等待 cpu 的进程数一般运行队列不要超过总核数的 2 倍,否则压力过大 b 等待资源进程数,一般等待网络 io 或磁盘 io")]),s._v("\ncpu "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# us 用户进程消耗的 cpu 百分比,长期大于 50% 需要优化程序 sy 内核进程消耗的 cpu 百分比")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"结果-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结果-3"}},[s._v("#")]),s._v(" 结果")]),s._v(" "),e("ol",[e("li",[s._v("procs\n"),e("ul",[e("li",[s._v("r : 运行和等待 cpu 时间片的进程数")]),s._v(" "),e("li",[s._v("b : 表示阻塞的进程数")])])]),s._v(" "),e("li",[s._v("memory\n"),e("ul",[e("li",[s._v("swpd : 表示虚拟内存使用情况")]),s._v(" "),e("li",[s._v("free : 表示当前空闲的物理内存")]),s._v(" "),e("li",[s._v("buff : 表示缓存的内存大小")]),s._v(" "),e("li",[s._v("cache : 表示缓存的内存大小")])])]),s._v(" "),e("li",[s._v("swap\n"),e("ul",[e("li",[s._v("si : 表示有磁盘读入内存大小")]),s._v(" "),e("li",[s._v("so : 表示内存写入磁盘大小")])])]),s._v(" "),e("li",[s._v("io\n"),e("ul",[e("li",[s._v("bi : 表示由块设备读入数据的总量")]),s._v(" "),e("li",[s._v("bo : 表示写到块设备的总量")])])]),s._v(" "),e("li",[s._v("system\n"),e("ul",[e("li",[s._v("in : 表示每秒中断数")]),s._v(" "),e("li",[s._v("cs : 表示每秒产生的上下文切换次数(线程切换)")])])]),s._v(" "),e("li",[s._v("cpu\n"),e("ul",[e("li",[s._v("us : 表示拥护进程消耗的 cpu 时间百分比")]),s._v(" "),e("li",[s._v("sy : 表示系统调用消耗的 cpu 时间百分比")]),s._v(" "),e("li",[s._v("id : 表示 cpu 处于空闲状态的时间百分比")]),s._v(" "),e("li",[s._v("wa : 表示等待 io 的 cpu 时间")])])])]),s._v(" "),e("h2",{attrs:{id:"pidstat-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pidstat-2"}},[s._v("#")]),s._v(" pidstat")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("pidstat -w pid "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cswch : 上下文自愿切换, nvcswch : 非自愿上下文切换")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"信号量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#信号量"}},[s._v("#")]),s._v(" 信号量")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("值")]),s._v(" "),e("th",[s._v("信号")]),s._v(" "),e("th",[s._v("说明")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("1")]),s._v(" "),e("td",[s._v("HUP")]),s._v(" "),e("td",[s._v("终端断线,终端被终止时会向所有关联进程发送该信号进程收到该信号后会终止运行,nohup 忽略该信号")])]),s._v(" "),e("tr",[e("td",[s._v("2")]),s._v(" "),e("td",[s._v("INT")]),s._v(" "),e("td",[s._v("中断,"),e("code",[s._v("ctrl + C")])])]),s._v(" "),e("tr",[e("td",[s._v("3")]),s._v(" "),e("td",[s._v("QUIT")]),s._v(" "),e("td",[s._v("退出,"),e("code",[s._v("ctrl + \\")])])]),s._v(" "),e("tr",[e("td",[s._v("9")]),s._v(" "),e("td",[s._v("SIGKILL")]),s._v(" "),e("td",[s._v("该信号不允许忽略和阻塞,可能会丢失数据或终端无法恢复正常状态")])]),s._v(" "),e("tr",[e("td",[s._v("15")]),s._v(" "),e("td",[s._v("SIGTERM")]),s._v(" "),e("td",[s._v("默认 kill 信号该信号可以被执行、阻塞、和忽略,应用程序收到后可以做一些准备工作在进程程序终止")])]),s._v(" "),e("tr",[e("td",[s._v("18")]),s._v(" "),e("td",[s._v("CONT")]),s._v(" "),e("td",[s._v("继续")])]),s._v(" "),e("tr",[e("td",[s._v("19")]),s._v(" "),e("td",[s._v("STOP")]),s._v(" "),e("td",[s._v("暂停,"),e("code",[s._v("ctrl + Z")])])])])]),s._v(" "),e("p",[s._v("kill 信号是直接发送给 init 进程的,由 init 进程负责终止 pid 指定的进程.")]),s._v(" "),e("h2",{attrs:{id:"cpu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpu"}},[s._v("#")]),s._v(" CPU")]),s._v(" "),e("p",[e("img",{attrs:{src:t(476),alt:"linux-cpu"}})]),s._v(" "),e("h3",{attrs:{id:"平均负载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#平均负载"}},[s._v("#")]),s._v(" 平均负载")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/loadavg")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uptime")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"cpuinfo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpuinfo"}},[s._v("#")]),s._v(" cpuinfo")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/cpuinfo")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"内存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内存"}},[s._v("#")]),s._v(" 内存")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/meminfo")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/pid/stat")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/pid/status")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/pid/maps")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"磁盘-io"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#磁盘-io"}},[s._v("#")]),s._v(" 磁盘 IO")]),s._v(" "),e("h3",{attrs:{id:"iostat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iostat"}},[s._v("#")]),s._v(" iostat")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("rkB/s "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每秒读取的数据量")]),s._v("\nwkB/s "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每秒写入的数据量")]),s._v("\nsvctm "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# io 请求平均服务时间")]),s._v("\nutil "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一秒中有百分之几的时间用于 io 操作,如果接近 100% 磁盘带宽跑满了")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/slabinfo")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/diskstats")]),s._v("\niotop\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"网络"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络"}},[s._v("#")]),s._v(" 网络")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /proc/net/dev")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v("\nss\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"stat-系列"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stat-系列"}},[s._v("#")]),s._v(" stat 系列")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("pidstat"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-w 进程上下文切换"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vmstat")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cpu")]),s._v("\niostat\nmpstat "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cpu")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v("\ndstat\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内存")]),s._v("\nsar\nftrace "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统调用")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("strace")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统调用")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有挂载磁盘使用情况")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前目录哪个文件占用较大")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("h2",{attrs:{id:"perf-火焰图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#perf-火焰图"}},[s._v("#")]),s._v(" perf & 火焰图")]),s._v(" "),e("h2",{attrs:{id:"free"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#free"}},[s._v("#")]),s._v(" free")]),s._v(" "),e("p",[e("img",{attrs:{src:t(477),alt:"linux-free"}})]),s._v(" "),e("h2",{attrs:{id:"stress"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stress"}},[s._v("#")]),s._v(" stress")]),s._v(" "),e("p",[s._v("压测 cpu")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("--cpu "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8 个进程不停的进行计算操作")]),s._v("\n--io "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4 个进程不停执行 sync io 操作")]),s._v("\n-vm "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2 个进程不停的执行 malloc 内存申请操作")]),s._v("\n--vm-types 128M "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 限制 1 个执行 malloc 的进程申请内存")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"cpu-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpu-2"}},[s._v("#")]),s._v(" cpu")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" -p pid\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" -p pid -H\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"内存-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内存-2"}},[s._v("#")]),s._v(" 内存")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" -h\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"磁盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#磁盘"}},[s._v("#")]),s._v(" 磁盘")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -sh *\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -lh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"网络-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络-2"}},[s._v("#")]),s._v(" 网络")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("ss\nsar\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -a\niftop -P\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"进程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[s._v("#")]),s._v(" 进程")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("pstree "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 树状形式展示所有进程")]),s._v("\npstree -p pid "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 展示所有线程,线程只是与同一个进程内其它线程同一块内存的一个特殊进程,每个线程也同样有自己的 pid")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件"}},[s._v("#")]),s._v(" 文件")]),s._v(" "),e("h2",{attrs:{id:"load-average"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#load-average"}},[s._v("#")]),s._v(" load average")]),s._v(" "),e("p",[s._v("在一段时间内,cpu 正在处理及等待 cpu 处理到进程数之和.")]),s._v(" "),e("h3",{attrs:{id:"ping-不通-网路正常"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ping-不通-网路正常"}},[s._v("#")]),s._v(" ping 不通,网路正常")]),s._v(" "),e("p",[s._v("ping 是基于 ICMP 协议的,如果对方防火墙屏蔽了 ICMP 协议,无法 ping 通但是不代表网络不通.如果 ICMP 序号断断续续,可能出现丢包现象.time 变化大说明网络抖动.")]),s._v(" "),e("h2",{attrs:{id:"小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("dstat -tcdngym\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);