(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{478:function(t,a,s){t.exports=s.p+"assets/img/zk-zhucezhongxin.4660d8e3.png"},535:function(t,a,s){"use strict";s.r(a);var r=s(20),_=Object(r.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"注册中心"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#注册中心"}},[t._v("#")]),t._v(" 注册中心")]),t._v(" "),r("h2",{attrs:{id:"zk实现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zk实现"}},[t._v("#")]),t._v(" zk实现")]),t._v(" "),r("p",[r("img",{attrs:{src:s(478),alt:"zk-zhucezhongxin"}})]),t._v(" "),r("h2",{attrs:{id:"自研"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自研"}},[t._v("#")]),t._v(" 自研")]),t._v(" "),r("h3",{attrs:{id:"客户端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[t._v("#")]),t._v(" 客户端")]),t._v(" "),r("ol",[r("li",[t._v("服务拉取 : 增量拉取,服务端维护增量列表供客户端拉取,增加增量数据校验,异常时全量拉取")]),t._v(" "),r("li",[t._v("心跳发送 : 告诉服务器自己是否存活,相当于续约")]),t._v(" "),r("li",[t._v("服务下线 : 下线状态通知服务器")])]),t._v(" "),r("h3",{attrs:{id:"服务端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[t._v("#")]),t._v(" 服务端")]),t._v(" "),r("ol",[r("li",[t._v("服务注册 : 降低锁争抢")]),t._v(" "),r("li",[t._v("对所有注册服务健康检查 : 单位时间内如果没有收到注册服务端心跳即没有续约则将服务下线")]),t._v(" "),r("li",[t._v("集群同步 : 服务端高可用,包括集群架构方案和数据传输方案")])]),t._v(" "),r("h2",{attrs:{id:"配置重载"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置重载"}},[t._v("#")]),t._v(" 配置重载")]),t._v(" "),r("ol",[r("li",[t._v("发信号触发配置重载")]),t._v(" "),r("li",[t._v("检测配置文件变化 : 不需要手动发送信号,修改完配置文件,自动检测,自动载入,需要加入文件监控,可以定期检查文件 md5 或者 last_modify_time")]),t._v(" "),r("li",[t._v("注册中心,配置变化时回调\n"),r("ul",[r("li",[t._v("所有服务从注册中心拿配置")]),t._v(" "),r("li",[t._v("必须从注册中心后台修改配置")]),t._v(" "),r("li",[t._v("配置修改,注册中心回调引用了相关配置的服务")])])])])])}),[],!1,null,null,null);a.default=_.exports}}]);