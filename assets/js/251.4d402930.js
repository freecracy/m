(window.webpackJsonp=window.webpackJsonp||[]).push([[251],{580:function(t,s,a){"use strict";a.r(s);var n=a(20),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"多账户统一登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多账户统一登录"}},[t._v("#")]),t._v(" 多账户统一登录")]),t._v(" "),a("h2",{attrs:{id:"用户名密码注册登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户名密码注册登录"}},[t._v("#")]),t._v(" 用户名密码注册登录")]),t._v(" "),a("h2",{attrs:{id:"手机号注册登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手机号注册登录"}},[t._v("#")]),t._v(" 手机号注册登录")]),t._v(" "),a("h3",{attrs:{id:"手机号密码补录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手机号密码补录"}},[t._v("#")]),t._v(" 手机号密码补录")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("用户名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("手机号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("错误次数\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"第三方登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三方登录"}},[t._v("#")]),t._v(" 第三方登录")]),t._v(" "),a("h3",{attrs:{id:"oauth2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oauth2-0"}},[t._v("#")]),t._v(" oauth2.0")]),t._v(" "),a("h3",{attrs:{id:"数据库设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库设计"}},[t._v("#")]),t._v(" 数据库设计")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户基础表 users : 单纯的针对自身业务登录")]),t._v("\nid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("expire_in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("try_times\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 验证关联表 user_auth_rel : 用来关联 users 表,与 user_local_auth 和 user_third_auth")]),t._v("\nid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("auth_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("auth_type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("third"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 本地用户表 user_local_auth : 自身用户的账号、密码、手机号登录信息")]),t._v("\nauth_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("user_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mobile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第三方用户表 user_third_auth : 第三方用户体系的数据记录")]),t._v("\nauth_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("openid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("第三方用户唯一标识"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("login_type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("第三方平台"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("access_token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("第三方token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h2",{attrs:{id:"扫码登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扫码登录"}},[t._v("#")]),t._v(" 扫码登录")]),t._v(" "),a("h2",{attrs:{id:"设备登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设备登录"}},[t._v("#")]),t._v(" 设备登录")])])}),[],!1,null,null,null);s.default=e.exports}}]);