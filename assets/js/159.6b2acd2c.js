(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{718:function(s,t,n){"use strict";n.r(t);var a=n(20),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"sed"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sed"}},[s._v("#")]),s._v(" sed")]),s._v(" "),n("h2",{attrs:{id:"参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("参数")]),s._v(" "),n("th",[s._v("作用")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("i")]),s._v(" "),n("td",[s._v("输出将原文件覆盖,-i.bak 会生成备份文件")])]),s._v(" "),n("tr",[n("td",[s._v("n")]),s._v(" "),n("td",[s._v("忽略执行输出")])]),s._v(" "),n("tr",[n("td",[s._v("e")]),s._v(" "),n("td",[s._v("多模式")])])])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择第 5 行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,5 p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择 2 到 5 行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1~2 p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择奇数行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2~2 p'")]),s._v(" fiile  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择偶数行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,+3p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第 2 行开始数 3 行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,$ p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第 2 行到结尾")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/ab/,+3p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 出现 ab 的行后面 3 行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^ab/,/cd/p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ab 开头的行和包行 cd 的行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,5 p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# p 是打印")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,5 d'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对匹配内容删除,去掉 n 参数")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,5 w o.txt'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内容写到其他文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/#.*//'")]),s._v(" -e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/#$/ d'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除 # 号开头的行和空行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$ s/a/b/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只在最后一行查找修改")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[s._v("\\b")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[s._v("\\b")]),s._v("/b/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \\b 单词模式")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s|/a|/b|g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价于 s/\\/a/\\/b/g | 可以包含转义字符")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s|(a|b)|c|g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 多个模式匹配")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/[0-9]/a/g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数字替换成 a")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h2",{attrs:{id:"查找-替换"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查找-替换"}},[s._v("#")]),s._v(" 查找 替换")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/pattern/S/a/b/g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一部分 pattern 和第 5 部分 g 可省略")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/sys/,+3 s/a/b/g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^sys/,/mem/s/a/b/g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/[a,b,c]/<&>/g'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查找支持模式匹配 & 代表原始查找的匹配数据,使用 [] 包围起来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/.*/\"&\"/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件中每一行用引号包围")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^/ls/e'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 匹配行执行 ls 命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i.bak "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/a/b/'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成 file.bak 备份文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -n -e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5,7p'")]),s._v(" -e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10,12p'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 5-7 行和 10-12 行")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("table",[n("thead",[n("tr",[n("th",[s._v("参数")]),s._v(" "),n("th",[s._v("作用")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("g")]),s._v(" "),n("td",[s._v("默认只匹配每行第一次出现的, g 表示全局替换, n 表示第 n 次出现的匹配, ng 表示第 n 个开始的所有匹配")])]),s._v(" "),n("tr",[n("td",[s._v("p")]),s._v(" "),n("td",[s._v("当使用了 -n 参数, p 仅输出匹配行内容")])]),s._v(" "),n("tr",[n("td",[s._v("w")]),s._v(" "),n("td",[s._v("仅仅输出有变化的行")])]),s._v(" "),n("tr",[n("td",[s._v("i")]),s._v(" "),n("td",[s._v("忽略大小写")])]),s._v(" "),n("tr",[n("td",[s._v("e")]),s._v(" "),n("td",[s._v("将输出的每行执行一个命令,一般使用 xargs")])])])]),s._v(" "),n("blockquote",[n("p",[s._v("由于正则表达式很多需要转义,脚本中转义字符"),n("code",[s._v("\\")]),s._v("可以用"),n("code",[s._v("|^@!")]),s._v("四个字符来代替")])])])}),[],!1,null,null,null);t.default=e.exports}}]);